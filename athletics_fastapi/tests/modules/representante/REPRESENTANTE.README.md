# Casos de Prueba - Módulo de Representante

## FRONTEND - GESTIÓN DE ATLETAS REPRESENTADOS

| ID | Funcionalidad | Descripción | Datos de Entrada | Salida Esperada | Condiciones Previas | Resultado (Exitoso/Fallido) |
|---|---|---|---|---|---|---|
| TC-REP-F01 | Ver Mis Atletas (Éxito) | Carga inicial de la lista de representados | `GET /api/v1/representante/athletes` | `{"success": true, "message": "Atletas obtenidos correctamente", "data": [{"id": 1, "external_id": "550e8400-e29b-41d4-a716-446655440001", "anios_experiencia": 2, "user": {"first_name": "Atleta", "last_name": "Junior", "email": "atleta@test.com", "phone": "0999999999", "identificacion": "1710034149"}}]}` | Usuario autenticado como Representante | Exitoso |
| TC-REP-F02 | Ver Mis Atletas (Vacío) | Representante no tiene hijos vinculados | `GET /api/v1/representante/athletes` | `{"success": true, "message": "Atletas obtenidos correctamente", "data": []}` | Representante sin atletas registrados | Exitoso |
| TC-REP-F03 | Registrar Hijo (Éxito) | Registro exitoso de un nuevo atleta | `{"username": "junior123", "email": "junior@test.com", "password": "Password123!", "first_name": "Junior", "last_name": "Perez", "tipo_identificacion": "CEDULA", "identificacion": "1710034149", "phone": "0999999999", "tipo_estamento": "EXTERNOS"}` | `{"success": true, "message": "Atleta registrado exitosamente", "data": {"id": 2, "external_id": "550e8400-e29b-41d4-a716-446655440002", "user": {"first_name": "Junior", "last_name": "Perez", "email": "junior@test.com"}}}` | Usuario autenticado, datos válidos | Exitoso |
| TC-REP-F04 | Registrar Hijo (Error Validación) | Campos obligatorios vacíos | `{}` | `{"detail": "Error de validación en la solicitud. Revisa los campos enviados."}` | Formulario abierto | Fallido |
| TC-REP-F05 | Registrar Hijo (Email Duplicado) | Error al registrar con email existente | `{"username": "junior123", "email": "junior@test.com", "password": "Password123!", "first_name": "Junior", "last_name": "Perez", "tipo_identificacion": "CEDULA", "identificacion": "1710034149", "phone": "0999999999", "tipo_estamento": "EXTERNOS"}` | `{"success": false, "message": "El usuario ya existe (Email o Identificación)", "data": null}` | Email ya registrado en sistema | Fallido |
| TC-REP-F06 | Ver Detalle (Éxito) | Visualización completa de un atleta | `GET /api/v1/representante/athletes/1` | `{"success": true, "message": "Detalle obtenido", "data": {"id": 1, "external_id": "550e8400-e29b-41d4-a716-446655440001", "anios_experiencia": 2, "user": {"first_name": "Atleta", "last_name": "Junior", "email": "atleta@test.com", "phone": "0999999999", "identificacion": "1710034149"}}}` | Atleta existe y pertenece al representante | Exitoso |
| TC-REP-F07 | Actualizar Atleta (Éxito) | Modificación de datos básica | `{"first_name": "Junior Modificado", "last_name": "Perez", "phone": "0987654321", "atleta_data": {"anios_experiencia": 3}}` | `{"success": true, "message": "Atleta actualizado correctamente", "data": {"id": 1, "user": {"first_name": "Junior Modificado", "phone": "0987654321"}}}` | Atleta pertenece al representante | Exitoso |
| TC-REP-F08 | Ver Estadísticas | Carga de datos de rendimiento | `GET /api/v1/representante/athletes/1/estadisticas` | `{"success": true, "message": "Estadísticas obtenidas", "data": {"total_competencias": 3, "medallas": {"oro": 1, "plata": 0, "bronce": 2}, "experiencia": 2}}` | Atleta tiene competencias registradas | Exitoso |

## BACKEND - GESTIÓN DE ATLETAS REPRESENTADOS

| ID | Funcionalidad | Descripción | Datos de Entrada | Salida Esperada | Condiciones Previas | Resultado (Exitoso/Fallido) |
|---|---|---|---|---|---|---|
| TC-REP-B01 | Listar Representados | Obtener lista de atletas del representante | `GET /api/v1/representante/athletes` | `{"success": true, "message": "Atletas obtenidos correctamente", "data": [{"id": 1, "external_id": "550e8400-e29b-41d4-a716-446655440001", "anios_experiencia": 2, "user": {"first_name": "Atleta", "last_name": "Junior", "email": "atleta@test.com"}}]}` | Token de Representante válido | Exitoso |
| TC-REP-B02 | Registrar Hijo | Crear usuario Atleta vinculado | `POST /api/v1/representante/athletes` + `{"username": "child", "email": "child@test.com", "password": "Pass123!", "first_name": "Child", "last_name": "Test", "tipo_identificacion": "CEDULA", "identificacion": "1710034149"}` | `{"success": true, "message": "Atleta registrado exitosamente", "data": {"id": 10, "external_id": "550e8400-e29b-41d4-a716-446655440010"}}` | Token válido, datos únicos | Exitoso |
| TC-REP-B03 | Registrar Hijo (Duplicado) | Intento con email ya en uso | `{"username": "child", "email": "child@test.com", "password": "Pass123!", "first_name": "Child", "last_name": "Test", "tipo_identificacion": "CEDULA", "identificacion": "1710034149"}` | `{"success": false, "message": "El usuario ya existe (Email o Identificación)", "data": null}` | Email ya registrado | Fallo |
| TC-REP-B04 | Actualizar Hijo | Modificar datos del atleta | `PUT /api/v1/representante/athletes/1` + `{"first_name": "NuevoNombre"}` | `{"success": true, "message": "Atleta actualizado correctamente", "data": {"id": 1, "user": {"first_name": "NuevoNombre"}}}` | Atleta vinculado al representante | Exitoso |
| TC-REP-B05 | Actualizar Hijo (Ajeno) | Editar un atleta que no es su hijo | `PUT /api/v1/representante/athletes/999` + `{"first_name": "Hacker"}` | `{"success": false, "message": "No tienes permiso sobre este atleta", "data": null}` | Atleta no pertenece al representante | Fallo |
| TC-REP-B06 | Ver Detalle | Obtener info completa | `GET /api/v1/representante/athletes/1` | `{"success": true, "message": "Detalle obtenido", "data": {"id": 1, "external_id": "550e8400-e29b-41d4-a716-446655440001", "anios_experiencia": 2, "user": {"first_name": "Atleta", "last_name": "Junior"}}}` | Atleta vinculado al representante | Exitoso |
| TC-REP-B07 | Ver Estadísticas | Obtener medallas y competencias | `GET /api/v1/representante/athletes/1/estadisticas` | `{"success": true, "message": "Estadísticas obtenidas", "data": {"total_competencias": 1, "medallas": {"oro": 0, "plata": 1, "bronce": 0}, "experiencia": 2}}` | Atleta con historial de resultados | Exitoso |
| TC-REP-B08 | Atleta No Encontrado | ID inválido o inexistente | `GET /api/v1/representante/athletes/9999` | `{"success": false, "message": "Atleta no encontrado", "data": null}` | ID no existe en base de datos | Fallo |
